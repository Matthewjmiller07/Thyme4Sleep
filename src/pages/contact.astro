---
import Layout from '../layouts/Layout.astro';
const pageTitle = 'Book a Consultation - Thyme4Sleep';
const pageDescription = 'Fill out our intake form to begin your personalised sleep-coaching journey with Georgia Miller.';
---

<Layout title={pageTitle} description={pageDescription}>
  <!-- Form Header -->
  <section class="py-12 bg-gradient-to-r from-emerald-50 to-teal-50" aria-labelledby="form-header">
    <div class="container mx-auto px-4">
      <h1 id="form-header" class="text-3xl md:text-4xl font-bold mb-2 text-center text-black">Sleep Coaching Intake Form</h1>
      <p class="text-center text-gray-600 mt-2">
        Already filled this out? 
        <a 
          href="https://thyme4sleep.neetocal.com/meeting-with-georgia-miller-2" 
          target="_blank"
          rel="noopener noreferrer"
          class="text-brandSage font-semibold hover:underline"
          aria-label="Book your 60-minute consultation (opens in new tab)"
        >
          Book your 60-minute consultation
          <span class="sr-only">(opens in new tab)</span>
        </a>
      </p>
    </div>
  </section>

  <section id="intake-form" class="py-12" aria-labelledby="form-title">
    <div class="container mx-auto px-4">
      <h2 id="form-title" class="sr-only">Contact Information Form</h2>
      <div class="bg-white shadow-lg rounded-lg p-8 max-w-4xl mx-auto">
        <div class="typeform-widget" data-tf-live="01K1HPFKZDEASNRV2TX4WFN9HY" style="width: 100%; height: 70vh;"></div>
        <script is:inline src="//embed.typeform.com/next/embed.js"></script>
        
        <!-- Terms and conditions -->
        <div class="border-t border-gray-200 pt-8 mt-16" role="region" aria-label="Terms and conditions">
          <h3 class="sr-only">Terms and Conditions</h3>
          <div class="text-sm text-gray-600">
            <p class="mb-4">By submitting this form, you agree to our <a href="https://www.overleaf.com/download/project/6869f779592b672caa1b5e3d/build/198658d5737-9e34f4fccb7e9a4f/output/output.pdf?compileGroup=standard&clsiserverid=clsi-reg-n2d-b-f-0s6c&enable_pdf_caching=true&popupDownload=true" target="_blank" rel="noopener noreferrer" class="text-brandSage hover:underline" aria-label="Terms of Service (opens in new tab)">Terms of Service<span class="sr-only"> (opens in new tab)</span></a>.</p>
            <p>You may receive email communications from Thyme4Sleep. You can unsubscribe at any time.</p>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <style>
    /* Date input styling */
    input[type="date"] {
      color: #1a202c; /* gray-900 */
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      background-color: white;
      min-height: 42px; /* Match other input heights */
      padding: 0.5rem 1rem; /* Match other input padding */
      border: 1px solid #e2e8f0; /* Match other input borders */
      border-radius: 0.375rem; /* Match other input border radius */
      width: 100%;
      font-size: 1rem;
      line-height: 1.5;
    }
    
    /* Remove default iOS styling */
    @supports (-webkit-touch-callout: none) {
      input[type="date"] {
        -webkit-appearance: none;
        -webkit-border-radius: 0.375rem;
      }
    }
    
    /* Focus state */
    input[type="date"]:focus {
      outline: none;
      border-color: #0d9488; /* teal-600 */
      box-shadow: 0 0 0 2px rgba(13, 148, 136, 0.5);
    }
    
    /* For Webkit browsers like Chrome/Safari */
    input[type="date"]::-webkit-calendar-picker-indicator {
      filter: invert(0.5);
      cursor: pointer;
      padding: 4px;
      border-radius: 4px;
      width: 20px;
      height: 20px;
    }
    
    /* For Firefox */
    input[type="date"]::-moz-calendar-picker-indicator {
      filter: invert(0.5);
      cursor: pointer;
      padding: 4px;
      border-radius: 4px;
      width: 20px;
      height: 20px;
    }
    
    /* Ensure consistent appearance on mobile */
    @media (max-width: 640px) {
      input[type="date"] {
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        background-color: white;
        min-height: 48px; /* Slightly larger for touch targets */
      }
    }
  </style>
</Layout>
